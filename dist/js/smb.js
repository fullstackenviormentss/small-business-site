$(function(t){function e(t){for(;/(\d+)(\d{3})/.test(t.toString());)t=t.toString().replace(/(\d+)(\d{3})/,"$1,$2");return t}t(".usa-menu-btn").on("click",function(e){t("#nav-mobile").attr("id").addClass("is-visible"),t(".usa-overlay").addClass("is-visible"),t(".usa-accordion-button").on("click",function(){t(this).attr("aria-expanded","true"),t(this).children().attr("aria-hidden","false")})}),t(".usa-overlay").click(function(e){var a=t("#nav-mobile").attr("id");t(e.target).closest(a).length||a.is(":visible")&&(a.removeClass("is-visible"),t(".usa-overlay").removeClass("is-visible"))}),t(".all-links").hover(function(e){t(this).children(".sub-nav-container").eq(0).slideDown(200),t(this).css("background-color","#dce4ef")},function(e){t(this).css("background-color","white"),t(this).children(".sub-nav-container").eq(0).slideUp(50)}),t('a[href^="#"]').on("click",function(e){var a=t(this.getAttribute("href"));a.length&&(e.preventDefault(),t("html, body").stop().animate({scrollTop:a.offset().top},1e3))});var a=[],i=!1,s=t(".usa-sidenav-list a");t(".usa-sidenav-list li");s.click(function(e){e.preventDefault(),t("html, body").animate({scrollTop:t(t(this).attr("href")).offset().top},1e3),hash(t(this).attr("href"))}),s.each(function(){a.push(t(t(this).attr("href")))}),t(window).scroll(function(e){var n=t(this).scrollTop()+t(window).height()/12;for(var o in a){var r=a[o];if(n>r.offset().top)var l=r.attr("id")}l!==i&&(i=l,t(s).removeClass("current"),t('.usa-sidenav-list a[href="#'+i+'"]').addClass("current"))}),t(window).scroll(function(){var e=t(".usa-layout-docs-main_content").offset().top,a=t(".usa-layout-docs-main_content").innerHeight(),i=t(".usa-sidenav-list").innerHeight(),s=(t("footer").height(),a-i),n=t(window).scrollTop()-e;t(window).scrollTop()>=e?t(".usa-sidenav-list").addClass("fixed"):t(".usa-sidenav-list").removeClass("fixed"),n>=s?t(".usa-sidenav-list").addClass("bottom"):t(".usa-sidenav-list").removeClass("bottom")}),hash=function(t){history.pushState?history.pushState(null,null,t):location.hash=t};var n=function(){var a=t("#zipcode").val(),i="6980d91653a1f78acd456d9187ed28e23ea5d4e3";t.getJSON("https://api.census.gov/data/2015/acs5?get=B19013_001E&for=zip+code+tabulation+area:"+a+"&key="+i,function(e){var a="$"+e[1][0].replace(/\B(?=(\d{3})+(?!\d))/g,",");t("#income").html(a)}),t.getJSON("https://api.census.gov/data/2015/acs5?get=B01002_001E&for=zip+code+tabulation+area:"+a+"&key="+i,function(e){var a=e[1][0];t("#age").html(a)}),t.getJSON("https://api.census.gov/data/2015/acs5?get=B23025_001E&for=zip+code+tabulation+area:"+a+"&key="+i,function(a){var i=a[1][0];t("#employment").html(e(i))}),t("#city").html(a),t("#data-section").css("min-height","60vh"),t("#data-results-section").slideDown(300);var s=t("#data-results-section");s.length&&(event.preventDefault(),t("html, body").stop().animate({scrollTop:s.offset().top},1e3))};String.getNumber=function(t,e){var a=t.indexOf(e)+23,i=t.substring(a,a+8);return parseInt(i)},t("#search").click(n),t("#zipcode").keypress(function(t){if(13==t.which)return n(),!1});var o=function(){console.log("infunction");var e=t("#location").val(),a="https://cbb.census.gov/sbe/#industry0="+t("#industry").val()+"&geoId="+e+"&geoType=zcta&view=report&reportType=summary";window.open(a,"_blank")};t("#report").click(o),t("#location").keypress(function(t){if(13==t.which)return o(),!1})});